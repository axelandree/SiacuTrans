@*@{
    ViewBag.Title = "Cambio de Plan";
    Layout = "~/Areas/Transactions/Views/Shared/_Layout.cshtml";
    ViewBag.TitleHtml = "CAMBIO DE PLAN";
}*@

@using System.Web.Optimization;

@{
    Layout = null;
}
    <script type="text/javascript" src="~/Areas/Transactions/Content/Lib/BloqueoF12.js"></script>
    <div id="PostPlanMigration" class="container-fluid">
    <div class="row">
        <div class="col-sm-3">
            <div class="panel-tabs">
                <ul id="divDashboardTabsMigracionPlan" class="nav nav-tabs" role="tablist" data-tabs="tabs">
                    <li id="DatosClienteInfo" class="active"><a href="#dvDatoCliente" role="tab" data-toggle="tab" data-parent="divDashboardTabsMigracionPlan"> Datos del Cliente</a></li>
                    <li id="ReglasComercialesInfo"><a href="#divReglasMigracionPlan" role="tab" data-toggle="tab" data-parent="divDashboardTabsMigracionPlan"> Reglas Comerciales</a></li>
                </ul>
            </div>

            <div class="tab-content">

                <div id="dvDatoCliente" class="tab-pane active">
                    <table id="tbDatoCliente" class="table table-condensed">
                        <tbody>
                            <tr>
                                <td>Teléfono</td>
                                <td><label id="lblPhoneNumber"></label></td>
                            </tr>
                            <tr>
                                <td>Tipo Cliente</td>
                                <td><label id="lblCustomerType"></label></td>
                            </tr>
                            <tr>
                                <td>
                                    <span class="control-label">Contacto</span>
                                </td>
                                <td>
                                    <label class="control-label" id="lblCustomerContact"></label>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <span class="control-label">Cliente</span>
                                </td>
                                <td>
                                    <label class="control-label" id="lblPost_Cliente"></label>
                                </td>
                            </tr>

                            <tr>
                                <td>
                                    <span class="control-label">DNI/RUC</span>
                                </td>
                                <td>
                                    <label id="lblPost_Documento"></label>

                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <span class="control-label">Plan Actual</span>
                                </td>
                                <td>
                                    <label class="control-label" id="lbl_PostMigracionPlanActual"></label>
                                </td>
                            </tr>

                            <tr>
                                <td>
                                    <span class="control-label">Fecha de Activaci&oacute;n</span>
                                </td>
                                <td>
                                    <label id="lblPost_FechaActivacion"></label>

                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <span class="control-label">Ciclo de Facturaci&oacute;n</span>
                                </td>
                                <td>
                                    <label id="lblPost_CicloFacturacion"></label>
                                </td>
                            </tr>

                            <tr>
                                <td>
                                    <span class="control-label">Tipo de Acuerdo</span>
                                </td>
                                <td>
                                    <label id="lblPost_TipoAcuerdo"></label>

                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <span class="control-label">L&iacute;mite de Cr&eacute;dito</span>
                                </td>
                                <td>
                                    <label id="lblPost_LimiteCredito"></label>

                                </td>
                            </tr>

                            <tr>
                                <td>
                                    <span class="control-label">Estado de L&iacute;nea</span>
                                </td>
                                <td>
                                    <label id="lblPost_EstadoLinea"></label>

                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <span class="control-label">Representante Legal</span>
                                </td>
                                <td>
                                    <label id="lblPost_RepresentanteLegal"></label>
                                </td>
                            </tr>

                            <tr>
                                <td class="col-sm-6">
                                    <span class="control-label">Fecha de Vencimiento</span>
                                </td>
                                <td class="col-sm-6">
                                    <span id="lblDueDate"></span>

                                </td>
                            </tr>
                            <tr id="trTopeConsumo">
                                <td class="col-sm-6">
                                    <span class="control-label">Tope Consumo Actual</span>
                                </td>
                                <td class="col-sm-6">
                                    <label id="lblPost_TopeConsumoActual"></label>

                                </td>
                            </tr>

                            <tr id="trBolsaSoles">
                                <td>
                                    <span class="control-label">Bolsa Soles Adicionales:</span>
                                </td>
                                <td>
                                    <label id="lblAdditionalMoneyBag"></label>

                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div id="divReglasMigracionPlan" class="tab-pane fade col-sm-12">


                </div>
            </div>
        </div>
        <div class="col-sm-9">
            <div class="transaction-container-step">
                <div class="process">
                    <div class="process-step process-step-2-left">
                        <button type="button" class="btn btn-circle transaction-button" data-toggle="tab" role="tab" href="#tabNewPlan" percent="0%"><i class="fa fa-pie-chart" aria-hidden="true"></i></button>
                        <p>Nuevo Plan</p>
                    </div>

                    <div class="process-step process-step-2">
                        <button type="button" class="btn btn-circle transaction-button" data-toggle="tab" role="tab" href="#tabTopConsume" percent="25%"><i class="fa fa-download" aria-hidden="true"></i></button>
                        <p>Tope consumo</p>
                    </div>

                    <div class="process-step process-step-2">
                        <button type="button" class="btn btn-circle transaction-button" data-toggle="tab" role="tab" href="#tabReintegrate" percent="41.6%"><i class="fa fa-history" aria-hidden="true"></i></button>
                        <p>Reintegro</p>
                    </div>

                    <div class="process-step process-step-2">
                        <button type="button" class="btn btn-circle transaction-button" data-toggle="tab" role="tab" href="#tabPenalty" percent="58.2%"><i class="fa fa-gavel" aria-hidden="true"></i></button>
                        <p>Penalidad</p>
                    </div>

                    <div class="process-step process-step-2">
                        <button type="button" class="btn btn-circle transaction-button" data-toggle="tab" role="tab" href="#tabOtherData" percent="74.8%"><i class="fa fa-envelope-open" aria-hidden="true"></i></button>
                        <p>Otros Datos</p>
                    </div>

                    <div class="process-step process-step-2-right">
                        <button type="button" class="btn btn-circle transaction-button" data-toggle="tab" role="tab" href="#tabSummary" percent="99%"><i class="fa fa-bars" aria-hidden="true"></i></button>
                        <p>Resumen</p>
                    </div>
                </div>

                <div class="transaction-progress">
                    <div class="progress transaction-bar">
                        <div id="prog" class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 0%">
                        </div>
                    </div>
                </div>
            </div>

            <div class="tab-content">
                @*Datos de Plan*@

                <div id="tabNewPlan" class="step tab-pane active" role="tabpanel" percent="0%">
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <form class="form-horizontal" id="tDatosMigracionPlan_Post">
                                <div class="col-sm-12 form-group">
                                    <label class="col-sm-2 control-label">Seleccione Nuevo Plan:</label>
                                    <div class="col-sm-1">
                                        <button id="btn_PostNuevoPlan" type="button" class="btn btn-danger btn-sm"><span class="glyphicon glyphicon-search"></span></button>
                                    </div>
                                    <label class="col-sm-2 control-label">Fecha de Aplicaci&oacute;n:</label>
                                    <div class="col-sm-3">
                                        <div class="input-daterange input-group">
                                            <input type="text" id="Post_txtFechaAplicacion" class="input-sm form-control" name="end" />
                                            <label class="input-group-addon btn btn-info" for="Post_txtFechaAplicacion">
                                                <span class="glyphicon glyphicon-calendar"></span>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                    </div>
                                </div>

                                <div class="col-sm-12 form-group" id="idTrNuevoPlan">
                                    <label class="col-sm-2 control-label" id="lblNuevoPlan_Post">Nuevo Plan:</label>
                                    <h4>
                                        <label class="col-sm-3 " id="txtPlanNuevoAgregado">&emsp;</label>
                                    </h4>

                                    <div class="col-sm-2">
                                    </div>
                                    <div class="col-sm-5">
                                        <table id="tbCargoFijoPlanBase">
                                            <tr>
                                                <td>Cargo Fijo Total del Plan (Sin IGV):</td>
                                                <td><h4><label id="lblPost_CargoFijoTotalPlanSin" class="label label-warning"></label></h4></td>
                                            </tr>
                                            <tr>
                                                <td>Cargo Fijo Total del Plan (Con IGV):</td>
                                                <td><h4><label id="lblPost_CargoFijoTotalPlanCon" class="label label-warning"></label></h4></td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                                <div class="col-sm-12 form-group">
                                    <div class="col-sm-offset-1 col-sm-9 checkbox">
                                        <label>
                                            <input type="checkbox" id="chkServActuales">Mantener Servicios ON TOP actuales
                                        </label>
                                    </div>
                                </div>
                            </form>
                            <br />
                        </div>
                    </div>
                </div>


                @*topes de consumo*@
                <div id="tabTopConsume" class="step tab-pane" role="tabpanel" percent="25%">
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <form class="form-horizontal" id="tTopesConsumo_Post">
                                <div class="col-sm-12 form-group">

                                    <div class="col-sm-12 checkbox">
                                        <label>
                                            <input type="checkbox" id="chkMantenerTopeConsumo">Mantener tope de consumo actual
                                        </label>
                                    </div>
                                </div>
                                <div class="col-sm-12 radio">
                                    <label class="col-sm-2 radio-inline">
                                        <input type="radio" name="inlineRadioOptions" id="rdSinTopeConsumo" value="option1"><span id="txt_rdSinTopeConsumo">Sin Tope Consumo</span>
                                    </label>
                                    <div>
                                        <label class="col-sm-2 radio-inline">
                                            <input type="radio" name="inlineRadioOptions" id="rdConTopeConsumo" value="option2"> Con Tope Consumo
                                        </label>
                                        <div class="col-sm-2">
                                            <select class="form-control" id="ddlTopesConsumo"></select>
                                        </div>
                                        <div class="col-sm-6 checkbox">
                                            <label>
                                                <input type="checkbox" id="chkSinCostoTope">Sin Costo
                                            </label>
                                        </div>
                                    </div>
                                </div>

                            </form>

                        </div>
                    </div>
                    <div id="idTRListaPlanCombo">
                        @*servicios asignados al plan*@
                        <div class="panel panel-danger">
                            @*<div class="panel-heading">
                        Servicios Asignados al Plan:
                    </div>*@
                            <div class="panel-body">
                                <div>
                                    <div id="ContenedorServiciosAsociadosPlan_Post" class="table">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="table-responsive">
                                                    <table id="tblServiciosAsociadosPlan_Post" class="table  table-striped table-hover table-responsive claro-modal-tabla table-bordered " width="100%">
                                                        <thead class="claro-bg-primary">
                                                            <tr>
                                                                <th>Sel</th>
                                                                <th>C&oacute;digo Servicio</th>
                                                                <th>Nombre Servicio</th>
                                                                <th>C&oacute;digo Excluyente</th>
                                                                <th>Motivo Excluyente</th>
                                                                <th>TMCODE</th>
                                                                <th>Cargo Fijo(S/.) Sin IGV</th>
                                                                <th>Peri&oacute;do</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody></tbody>
                                                    </table>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-12" id="tblAgregarBoton">
                                    <form class="form-inline ">
                                        <div class="form-group">
                                            <button class="btn claro-btn-info btn-sm" id="btnAgregarServicio_Post" type="button"><span class="glyphicon glyphicon-plus">&nbsp;</span>Agregar Servicio</button>
                                        </div>
                                    </form>

                                </div>
                                <br /><br /><br />
                                <div id="IdTrArmaPlanesCombos">
                                    <div class="col-sm-12">
                                        <div id="ContenedorServiciosAsociadoAgregadosPlan_Post" class="table">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <div class="table-responsive">
                                                        <table id="tblServiciosAsociadoAgregadosPlan_Post" class="table  table-striped table-hover table-responsive claro-modal-tabla table-bordered " width="100%">
                                                            <thead class="table table-danger">
                                                                <tr class="claro-bg-primary">
                                                                    <th align="center">Acci&oacute;n</th>
                                                                    <th style="display:none;">C&oacute;digo Servicio</th>
                                                                    <th>Nombre Servicio</th>
                                                                    <th style="display:none;">C&oacute;digo Excluyente</th>
                                                                    <th>Motivo Excluyente</th>
                                                                    <th style="display:none;">TMCODE</th>
                                                                    <th>Cargo Fijo(S/.) Sin IGV</th>
                                                                    <th>Peri&oacute;do</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody></tbody>
                                                        </table>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                        @*cargos fijos*@
                        <div class="panel panel-default">

                            <table id="tbDatoCliente" class="table table-condensed ">
                                <tr>
                                    <td>
                                        <label class="control-label">Cargos Fijos del Nuevo Plan Base:</label>
                                        &ensp;&ensp;
                                        <label id="lblPost_CargoFijoDescNuevoPlanBase"></label>
                                        &ensp;&ensp;&ensp;&ensp;
                                        <label class="control-label">|&ensp;(Sin IGV):</label>
                                        &ensp;&ensp;
                                        <span id="lblPost_CargoFijoNuevoPlanBase"></span>

                                    </td>
                                </tr>
                                <tr id="trIDCantidadCFijo2">
                                    <td colspan="2">
                                        <br /><h5>
                                            <label class="control-label" id="lblMensajeCantidadServiciosAgr">
                                                Cantidad de Servicios Agregados:
                                            </label>
                                        </h5>
                                    </td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr id="trIDCargoFijo2">
                                    <td>
                                        <label class="control-label">Cargo Fijo Total del Plan (Sin IGV):</label>
                                    </td>
                                    <td>
                                        <h4><span id="lblPost_CargoTotalDelPlanSin" class="label label-warning"></span></h4>

                                    </td>
                                    <td>
                                        <label class="control-label">|&ensp;Cargo Fijo Total del Plan (Con IGV):</label>
                                    </td>
                                    <td>
                                        <h4><span id="lblPost_CargoTotalDelPlanCon" class="label label-warning"></span></h4>

                                    </td>
                                </tr>

                            </table>

                        </div>
                    </div>
                </div>

                @*Reintegro apadece*@
                <div id="tabReintegrate" class="step tab-pane" role="tabpanel" percent="41.6%">
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <div>
                                <form class="form-horizontal" id="tReintegroMigracionPlan_Post">
                                    <div class="col-sm-12 form-group">
                                        <label class="col-sm-2  control-label">Reintegro APADECE:</label>
                                        <div class="col-sm-3">
                                            <input type="text" id="txt_RegistroApadece_Post" class="form-control" />
                                        </div>
                                    </div>
                                    <div class="col-sm-12 form-group">
                                        <label class="col-sm-2  control-label">Penalidad Calculada:</label>
                                        <div class="col-sm-3">
                                            <input type="text" id="txt_CobroApadece_Post" class="form-control" />
                                        </div>
                                    </div>

                                    <div class="col-sm-12 form-group">
                                        <div class="col-sm-offset-1 col-sm-4 checkbox">
                                            <label>
                                                <input type="checkbox" id="chkFidelizaPenalidad"><strong> Fideliza Penalidad</strong>
                                            </label>
                                        </div>
                                        <label class="col-sm-2  control-label">Monto Fidelizaci&oacute;n Penalidad:</label>
                                        <div class="col-sm-3">
                                            <input type="text" id="txt_Post_MontoFidelizaApadece" class="form-control" />
                                        </div>
                                    </div>


                                    <div class="col-sm-12 form-group">
                                        <div class="col-sm-offset-1 col-sm-4 checkbox">
                                            <label>
                                                <input type="checkbox" id="chckApadeceNoAplica"><strong> Cobro Penalidad no Aplica</strong>
                                            </label>
                                        </div>
                                        <label class="col-sm-2  control-label">Total Penalidad a Cobrar:</label>
                                        <div class="col-sm-3">
                                            <input type="text" id="txt_Post_TotalPenalidadCobrar" class="form-control" />
                                        </div>
                                    </div>
                                    <div class="col-sm-12 form-group">
                                        <div class="col-sm-offset-1 col-sm-4 checkbox">
                                            <label>
                                                <input type="checkbox" id="chk_Post_OCC"><strong>OCC</strong>
                                            </label>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>


                @*penalidad PCS*@
                <div id="tabPenalty" class="step tab-pane" role="tabpanel" percent="58.2%">
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <div>
                                <form class="form-horizontal" id="tReintegroMigracionPlan_Post">
                                    <div class="col-sm-12 checkbox" id="chkDivPenalidadPCS">
                                        <label>
                                            <input type="checkbox" id="chk_Post_PenalidadPCS"><strong>Penalidad PCS</strong>
                                        </label>
                                    </div>
                                    <div id="divPCS">
                                        <div class="col-sm-12 form-group">
                                            <label class="col-sm-4  control-label">Monto Penalidad PCS:</label>
                                            <div class="col-sm-3">
                                                <input type="text" id="txt_Post_PenalidadPCS" class="form-control" />
                                            </div>
                                        </div>

                                        <div class="col-sm-12 form-group">
                                            <div class="col-sm-offset-1 col-sm-4 checkbox">
                                                <label>
                                                    <input type="checkbox" id="chkFidelizaPenalidadPCS"><strong> Fideliza Penalidad PCS</strong>
                                                </label>
                                            </div>
                                        </div>


                                        <div class="col-sm-12 form-group">
                                            <label class="col-sm-4  control-label">Monto Fidelizaci&oacute;n Penalidad PCS:</label>
                                            <div class="col-sm-2">
                                                <input type="text" id="txt_Post_TotalFidelizacionPenalidadPCS" class="form-control" />
                                            </div>
                                            <label class="col-sm-4  control-label">Total Penalidad PCS a cobrar:</label>
                                            <div class="col-sm-2">
                                                <input type="text" id="txt_Post_TotalPenalidadPCSCobrar" class="form-control" />
                                            </div>
                                        </div>

                                        <div class="col-sm-12 form-group" id="dvValidacionBoleta">
                                            <div class="col-sm-1">
                                            </div>
                                            <div class="col-sm-2 radio">
                                                <label>
                                                    <input type="radio" name="grpOpcionPago" id="rdbPagoefectivo" value="option1" checked>
                                                    Pago en Efectivo
                                                </label>
                                            </div>
                                            <div class="col-sm-1">
                                            </div>
                                            <label class="col-sm-3  control-label">N&uacute;mero de Boleta Pagada:</label>
                                            <div class="col-sm-2">
                                                <input type="text" id="txt_Post_NumeroBoleta" class="form-control" />
                                            </div>
                                            <div class="col-sm-3">
                                                <button class="btn claro-btn-info btn-sm" id="btn_Post_ValidarBoleta" type="button"><span class="glyphicon glyphicon-check">&nbsp;</span>Validar Boleta</button>
                                            </div>
                                        </div>

                                        <div class="col-sm-12 form-group">
                                            <div class="col-sm-1">
                                            </div>
                                            <div class="col-sm-2 radio">
                                                <label>
                                                    <input type="radio" name="grpOpcionPago" id="rdbNotaDebito" value="option1" checked>
                                                    Nota de D&eacute;bito
                                                </label>
                                            </div>
                                        </div>

                                        <div class="col-sm-12 form-group">
                                            <label class="col-sm-2  control-label" id="lblArea">&Aacute;rea:</label>
                                            <div class="col-sm-2">
                                                <select class="form-control" id="ddlArea"><option value="volvo">-select-</option></select>
                                            </div>

                                            <label class="col-sm-2  control-label" id="lblMotivo">Motivo:</label>
                                            <div class="col-sm-2">
                                                <select class="form-control" id="ddlMotivo"><option value="volvo">-select-</option></select>
                                            </div>

                                            <label class="col-sm-2  control-label" id="lblSubMotivo">SubMotivo:</label>
                                            <div class="col-sm-2">
                                                <select class="form-control" id="ddlSubMotivo"><option value="volvo">-select-</option></select>
                                            </div>
                                        </div>
                                        <div class="col-sm-12 form-group" id="idtrLeyenda">
                                            <div class="col-sm-6">
                                            </div>
                                            <label class="col-sm-6  control-label">(*) Campos Obligatorios</label>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>


                @*controles comunes*@
                <div id="tabOtherData" class="step tab-pane" role="tabpanel" percent="74.8%">
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <form id="tbDatoTransaccion" class="form-horizontal">
                                <div class="col-sm-12 form-group">
                                    <label class="col-sm-2 control-label">Enviar por Correo:</label>
                                    <div class="col-sm-1 checkbox">
                                        <label>
                                            <input type="checkbox" id="chkSentEmail">
                                        </label>
                                    </div>
                                    <div id="dTextCorreo" class="col-sm-8">
                                        <input id="txtPost_SendforEmail" type="text" class="col-sm-4 form-control" placeholder="Email">
                                    </div>
                                </div>
                                <div class="col-sm-12 form-group">
                                    <label class="col-sm-2 control-label">CAC/DAC:</label>
                                    <div class="col-sm-2">
                                        <select class="form-control" id="cbo_PostMigrationCacDac"></select>
                                    </div>
                                </div>
                                <div class="col-sm-12 form-group">
                                    <label class="col-sm-2 control-label">Notas:</label>
                                    <div class="col-sm-10">
                                        <textarea class="col-sm-12 form-control" id="txtNota"></textarea>
                                    </div>
                                </div>
                            </form>
                        </div>

                    </div>
                </div>

                <div id="tabSummary" class="step tab-pane" role="tabpanel" percent="99%">
                    <div>
                        <center>
                            <form class="form-inline ">
                                <div class="form-group">
                                    <button class="btn claro-btn-info btn-sm" id="btnGuardar" type="button"><span class="glyphicon glyphicon-floppy-disk">&nbsp;</span>Guardar</button>
                                </div>
                                <div class="form-group">
                                    <button class="btn claro-btn-info btn-sm" id="btnConstancia" type="button"><span class="glyphicon glyphicon-file">&nbsp;</span>Constancia</button>
                                </div>
                                <div class="form-group">
                                    <button id="btnCerrar" class="btn claro-btn-info btn-sm" id="btnCerrar" type="button"><span class="glyphicon glyphicon-remove">&nbsp;</span>Cerrar</button>
                                </div>
                            </form>
                            <br /><br /><br /><br />
                        </center>
                    </div>
                </div>
            </div>

            
        
            
        </div>
    </div>
            
    </div>

@Scripts.Render("~/bundles/Transactions/PostPlanMigration/PostPlanMigration")
@Scripts.Render("~/bundles/steps")